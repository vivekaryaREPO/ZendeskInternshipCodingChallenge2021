<!DOCTYPE html>
<!-- All rights reserved with Vivek Arya
Copyright (c) 2021 -->
<html lang="en">
<head>
    <title>Vivek Arya</title>   
</head>
<body>
  <div style="padding-left: 10px;padding-right: 10px;">
     
    <div style="padding-left: 10px;padding-right: 10px;"  *ngIf="(ticket!=null)&&(ticketRequester!=null)&&(ticketSubmitter!=null)&&(ticketOrganisation!=null)&&(ticketBrand!=null)&&(ticketGroup!=null)">
      <div routerLink="/ticketlist" class="row text-left">
        <h4 class="text-left" ><a href="#" class="previous round">&laquo;<b>back to list</b></a></h4>
       </div>
      <div class="container-fluid" >
                <div class="row text-left">
                            <div class="panel panel-primary">
                                <div class="panel-heading">
                                    <div class="row">
                                        <div>
                                            <h1 class="panel-title text-center">TICKET DETAILS</h1>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-xs-6">
                                            <h1 class="panel-title text-left"><b>TICKET ID {{' '+ticket.id}}</b></h1>
                              
                                        </div>
                     
                                        <div class="col-xs-6">
                                            <h1 class="panel-title text-right"><b>DATE CREATED:{{ticket.created_at|date:'medium'}}</b></h1>           
                                        </div>

                                    </div>
                                    
                                </div>
                                <div class="panel-body">
                                        <div class="col-xs-2">
                                          <div class="row" *ngIf="(retrieveMessage && _zendeskApiService.isPrev) ||(retrieveMessage && _zendeskApiService.isNext)">
                                           <h3> <span style="color:blue;"  class="text-right" align="text-center" *ngIf="(retrieveMessage && _zendeskApiService.isPrev) ||(retrieveMessage && _zendeskApiService.isNext)" class="alert-success text-right" role="alert"><b>Ticket information was retrieved, Successfully</b></span></h3>
                                          </div>
                                          <div class="row">
                                            <div *ngIf="ticket.status=='new'">
                                              <h3><b>Status: </b><span class="label label-warning">NEW</span></h3>
                                              
                                            </div>
                                            <div *ngIf="ticket.status=='open'">
                                              <h3><b>Status: </b> <span class="label label-danger" >OPEN</span></h3>
                                             
                                            </div>
                                            <div *ngIf="ticket.status=='closed'">
                                              <h3><b>Status: </b><span class="label label-success" >CLOSED</span></h3>
                                              
                                            </div>
                      
                                          </div>

                                        </div>
                                        
                                        <div class="col-xs-8">
                          
                                            <div class="row vertical-align">
                                                  
                                             
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Subject:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <h5 align="text-left">{{ticket.subject}}</h5>
                                                  </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Description:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <h5 align="text-left">{{ticket.description}}</h5>
                                                  </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Requested By:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <h5 align="text-left">{{' '+ticketRequester.name}}</h5>
                                                  </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Submitted By:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <h5 align="text-left">{{' '+ticketSubmitter.name}}</h5>
                                                  </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Group Name:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <h5 align="text-left">{{' '+ticketGroup.name}}</h5>
                                                  </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Tags:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <table>
                                                      <tr *ngIf="(ticket) && (ticket.tags.length > 0)">
                                                        <td *ngFor="let x of ticket.tags">
                                                          <button>{{'     '+x+'    '}}</button>
                                                        </td>
                                                      </tr>
                                                    </table>
                                                  </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Organization Name:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <h5 align="text-left">{{ticketOrganisation.name}}</h5>
                                                  </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Brand Name:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <h5 align="text-left">{{ticketBrand.name}}</h5>
                                                  </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-xs-6">
                                                    <h4 align="center"><b>Date Update:</b></h4>
                                                  </div>
                                                  <div class="col-xs-6">
                                                    <h5 align="text-left">{{ticket.updated_at|date:'medium'}}</h5>
                                                  </div>
                                                </div>
                                      
                                              </div>

                                            
                                    </div>
                                    <div class="col-xs-2">

                                    </div>
                                    
                                </div>
                                <div class="panel-footer ">
                                  <div class="row">
                                    <div class="col-xs-6">
                                      <h4 class="text-left"><button (click)="getPreviousTicket()"  class="next" >&laquo; Previous Ticket</button></h4>
                                    </div>
                                    <div class="col-xs-6">
                                      <h4 class="text-right"><button (click)="getNextTicket()"  class="next " >Next Ticket &raquo;</button></h4>
                                    </div>

                                   </div>
                                </div>
                            </div>
                </div>
      </div>
                </div>
                <div style="padding-top: 200px;" align="center" *ngIf="(!errorInService)&&((ticket==null)||(ticketRequester==null)||(ticketSubmitter==null)||(ticketOrganisation==null)||(ticketBrand==null)||(ticketGroup==null))">
                  <div class="container">
                    <div class="row">
                      <div class="loader"></div>
                    </div>
                  </div>
                  <h2 style="color:black;"> Loading ticket details, please wait...</h2>
                </div>
            
                <div style="padding-top: 200px;" align="center" *ngIf="errorInService">
                  <div class="container">
                    <div class="row">
                        <div class="alert alert-danger">
                          <h1><strong>Problem with service endpoints, please try again.</strong> </h1>
                          <a (click)="reload()" class="btn btn-info btn-lg">
                            <span  class="glyphicon glyphicon-repeat"></span> Retry
                          </a>
                        </div>
                      
                    </div>
                  </div>
            
               </div>


  </div>



                



</body>
</html>



    